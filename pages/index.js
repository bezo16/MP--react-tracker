import Link from "next/link"
import { useEffect, useState } from "react"

export default function Home() {

  const [steps,setSteps] = useState(0)
  const [jumps,setJumps] = useState(0)
  const [calories,setCalories] = useState(0)
  const [time,setTime] = useState(0)
  const [registered,setRegistered] = useState(false)
  const [registerHeight,setRegisterHeight] = useState(0)

  useEffect(() => {
    // localStorage.clear()
    setSteps(Number(localStorage.getItem('steps')))
    setJumps(Number(localStorage.getItem('jumps')))
    setTime(Number(localStorage.getItem('time')))
    setRegistered(localStorage.getItem('registered'))
  },[])

  useEffect(() => {
    setCalories(Math.floor(steps / 33) + Math.floor(jumps / 5))
  },[steps,jumps])


  function register(e) {
    e.preventDefault()
    if(registerHeight > 50) {
      localStorage.setItem('height',registerHeight)
      localStorage.setItem('registered',true)
      setRegistered(true)
    }
  }

  return (
    <main>
      <div className={registered ? 'hiden' : ''}>
        <form onSubmit={register}>
          <label htmlFor="height">Enter Height:</label>
          <input value={registerHeight} onChange={(e) => setRegisterHeight(e.target.value)} id="height" type="text" /> cm
        </form>
      </div>
      <div className={registered ? '' : 'hiden'}>
        <Link href="/train" passHref>
          <button className="start-btn">Start Training!</button>
        </Link>
        <section className="overview">
          <div className="overview-card">
            <h3 className="overview-card__title">
            Footsteps
            <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M11.958 11c-3.073 0-6.779 5.665-7.553 8.716-.597 2.351.774 4.284 2.811 4.284 1.563 0 3.472-1.439 4.788-1.463h.019c1.124 0 3.516 1.399 4.924 1.399 1.99 0 3.154-1.932 2.645-4.22-.575-2.593-4.303-8.716-7.634-8.716zm-10.209-3.952c-.378 0-.71.086-.97.267-.514.36-.779 1.092-.779 2.007 0 .944.281 2.082.861 3.208.762 1.479 1.879 2.47 3.149 2.47.55 0 1.13-.187 1.721-.6 1.697-1.184 1.505-3.432-.082-5.214-1.2-1.348-2.757-2.138-3.9-2.138zm20.377-.566c-1.205 0-2.857 1.151-3.929 2.923-1.265 2.092-1.037 4.394.894 5.271.489.221.95.324 1.378.324 1.519 0 2.631-1.294 3.179-3.12.741-2.463.35-5.398-1.522-5.398zm-5.959-6.482c-1.288 0-2.91 1.671-3.622 3.936-.757 2.405.032 4.655 2.182 5.062 3.75.708 3.876-3.79 3.882-3.913.191-3.588-1.429-5.085-2.442-5.085zm-9.537 0c-1.749 0-2.432 2.789-1.879 5.418.426 2.022 1.539 3.494 3.235 3.494.374 0 .775-.072 1.204-.224 2.061-.732 2.495-3.077 1.377-5.337-.986-1.995-2.68-3.351-3.937-3.351zm5.328 12c2.581 0 6.093 5.388 6.658 7.933.329 1.489-.253 3.424-2.268 2.924-1.03-.253-3.202-1.32-4.361-1.32h-.001c-1.185.022-2.674.887-3.897 1.307-1.932.666-3.216-.902-2.714-2.882.741-2.925 4.274-7.962 6.583-7.962zm-7.056-2.149c.721.81 1.098 1.75 1.008 2.514-.125 1.06-1.23 1.635-1.9 1.635-.805 0-1.628-.702-2.26-1.928-1.047-2.035-.816-3.645-.398-3.937.159-.111 1.694-.367 3.55 1.716zm17.224-2.369l.215.038c.483.219 1.028 1.811.348 4.072-.216.724-.869 2.408-2.22 2.408-.697 0-1.677-.411-1.963-1.335-.239-.772-.04-1.772.547-2.742.925-1.528 2.288-2.441 3.073-2.441zm-5.959-6.482c.247 0 1.61.892 1.444 4.032-.099 1.854-.847 3.335-2.698 2.984-1.931-.367-1.776-2.629-1.413-3.78.629-2.005 1.978-3.236 2.667-3.236zm-9.537 0c.797 0 2.187 1.068 3.04 2.794.523 1.057.641 2.111.325 2.892-.391.962-1.423 1.226-2.009 1.226-1.524 0-2.085-1.888-2.256-2.7-.477-2.266.14-4.212.9-4.212z"/></svg>
            </h3>
            <p className="overview-card__count">{steps} steps</p>
          </div>
          <div className="overview-card">
            <h3 className="overview-card__title">
            Jumping-Rope
            <svg width="24" height="24" x="0px" y="0px" viewBox="0 0 1000 1000">
           <g><g transform="translate(0.000000,511.000000) scale(0.100000,-0.100000)"><path d="M396.1,4507.7C191.7,4313.8,100,4211.6,100,4180.4c0-35.4,202.3-223.1,779.8-729.8c429.5-375.3,798.6-681.8,817.4-681.8c20.9,0,66.7,29.2,104.3,64.6l64.6,62.6l108.4-141.8c181.4-241.9,291.9-481.7,371.2-798.6c29.2-118.9,35.4-404.5,48-2231.1c10.4-1809.9,16.7-2114.3,45.9-2231.1c256.5-1050.9,1030-1812,2058-2022.6c256.5-52.1,688.1-56.3,942.5-10.4c1011.3,187.7,1799.5,927.9,2078.9,1947.5l54.2,200.2l12.5,2106l12.5,2106l54.2,200.2c85.5,312.8,225.2,585.9,421.2,821.5l50,62.6l75.1-70.9c64.6-62.5,83.4-68.8,127.2-52.1c27.1,10.4,394.1,319,813.2,686c565.1,494.2,761.1,677.7,761.1,711c0,60.5-575.5,613-638,613c-29.2,0-139.7-108.4-354.5-348.2c-171-193.9-335.7-377.4-367-412.8c-350.3-383.7-681.8-779.8-683.9-813.2c0-20.8,29.2-68.8,64.6-106.3l64.6-66.7l-102.2-131.4c-248.1-319-385.8-633.9-454.6-1027.9c-27.1-156.4-31.3-475.4-31.3-2085.1c0-1257.3-8.3-1962.1-22.9-2087.2c-43.8-354.5-193.9-756.9-394.1-1055c-123-183.5-414.9-477.5-596.3-602.6C5661-4445.7,4731-4520.8,3942.8-4143.4c-252.3,120.9-414.9,231.4-615.1,425.4c-350.3,333.6-567.1,715.2-690.2,1211.4c-41.7,171-43.8,244-56.3,2283.2c-10.4,1847.4-16.7,2120.6-45.9,2231.1c-95.9,354.5-229.4,633.9-423.3,882l-110.5,146l70.9,68.8c39.6,37.5,70.9,87.6,70.9,110.5c0,35.4-258.5,344-683.9,815.3c-31.3,35.4-196,218.9-367,412.8c-214.8,239.8-325.3,348.2-354.5,348.2C710.9,4791.3,583.7,4687,396.1,4507.7z M838.1,4453.5L934,4343l-191.8-179.3l-193.9-179.3l-108.4,95.9l-108.4,95.9l191.8,193.9c104.3,104.3,198.1,191.8,204.3,191.8C736,4561.9,786,4511.9,838.1,4453.5z M9476.7,4370.1l191.8-193.9l-108.4-95.9l-108.4-95.9l-193.9,179.3L9066,4343l95.9,110.5c52.1,58.4,102.2,108.4,110.5,108.4C9278.6,4561.9,9372.5,4474.4,9476.7,4370.1z M1165.5,4080.3l87.6-106.3l-156.4-156.4c-175.1-173.1-162.6-173.1-308.6-41.7l-87.6,81.3l173.1,162.6c95.9,91.7,181.4,164.7,189.8,166.8C1069.6,4186.6,1115.4,4138.7,1165.5,4080.3z M9126.4,4019.8l173.1-162.6l-87.6-81.3c-143.9-129.3-133.5-131.4-304.4,37.5c-85.5,83.4-154.3,158.5-154.3,164.7c0,18.8,168.9,208.5,183.5,208.5C8945,4184.5,9030.5,4111.6,9126.4,4019.8z M1499.1,3705l87.6-104.3l-133.4-135.5c-73-73-137.6-133.4-143.9-133.4c-6.3,0-58.4,41.7-114.7,91.7l-104.3,91.7l146,148c79.2,81.3,152.2,148,158.5,148C1403.2,3811.3,1449.1,3763.3,1499.1,3705z M8763.6,3663.3l146-148l-104.2-91.7c-56.3-50-108.4-91.7-114.7-91.7c-6.3,0-70.9,60.5-143.9,133.4l-133.4,135.5l87.6,104.3c50,58.4,95.9,106.3,104.3,106.3C8611.4,3811.3,8684.4,3744.6,8763.6,3663.3z M1914,3227.5c0-6.3-50-62.5-112.6-123l-112.6-112.6L1570,3091.9L1453.2,3192l131.4,133.5l131.4,133.4l98-110.5C1868.2,3287.9,1914,3233.7,1914,3227.5z M8436.2,3098.2c-60.5-54.2-114.7-100.1-120.9-100.1s-62.6,52.1-123,112.6l-112.6,114.7l100.1,116.8l100.1,118.9l133.5-133.5l133.4-131.4L8436.2,3098.2z"/></g></g>
           </svg>
            </h3>
            <p className="overview-card__count">{jumps} jumps</p>
          </div>
          <div className="overview-card">
            <h3 className="overview-card__title">
            Time spent
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627  0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447   1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z"/></svg>
            </h3>
            <p className="overview-card__count">{time} minutes</p>
          </div>
          <div className="overview-card">
            <h3 className="overview-card__title">
            Calories
            <svg width="24" height="24"><path d="M5.521 8.974c-.332-.583-.521-1.257-.521-1.974 0-1.899 1.326-3.49 3.102-3.898.408-1.776 1.999-3.102 3.898-3.102s3.49 1.326 3.898 3.102c1.776.408 3.102 1.999 3.102 3.898 0 .717-.189 1.391-.521 1.973.327.423.521.952.521 1.527 0 1.309-1.007 2.385-2.289 2.491l-.002.009c-.235.855-2.394 8.694-2.67 9.538-.349.953-1.175 1.462-2.039 1.462-.853 0-1.683-.497-2.039-1.462-.26-.801-2.221-7.91-2.673-9.547-1.281-.107-2.288-1.183-2.288-2.491 0-.575.194-1.104.521-1.526zm10.991 1.026h-9.012c-.275 0-.5.224-.5.5s.225.5.5.5h1.327c.061.218 2.945 10.693 3.031 10.899.064.144.238.13.291-.014.095-.293 1.172-4.107 1.617-5.719.453-1.639 1.408-5.166 1.408-5.166h1.338c.271-.006.488-.228.488-.5s-.217-.493-.488-.5zm.214-1.99c.174-.296.274-.642.274-1.01 0-1.263-1.116-2.493-3-2 .471-1.549-.557-2.997-2-3-1.004-.002-1.797.759-2.06 1.637 1.103.721 1.615 1.975 1.443 3.363-.939-2.985-4.383-2.268-4.383 0 0 .368.1.714.274 1.01l.226-.01h9.065v.001l.161.009z"/></svg>
            </h3>
            <p className="overview-card__count">{calories} calories burned</p>
          </div>
          <div className="overview-card">
            <h3 className="overview-card__title">
            Streak
            <svg width="24" height="24"><path d="M5.521 8.974c-.332-.583-.521-1.257-.521-1.974 0-1.899 1.326-3.49 3.102-3.898.408-1.776 1.999-3.102 3.898-3.102s3.49 1.326 3.898 3.102c1.776.408 3.102 1.999 3.102 3.898 0 .717-.189 1.391-.521 1.973.327.423.521.952.521 1.527 0 1.309-1.007 2.385-2.289 2.491l-.002.009c-.235.855-2.394 8.694-2.67 9.538-.349.953-1.175 1.462-2.039 1.462-.853 0-1.683-.497-2.039-1.462-.26-.801-2.221-7.91-2.673-9.547-1.281-.107-2.288-1.183-2.288-2.491 0-.575.194-1.104.521-1.526zm10.991 1.026h-9.012c-.275 0-.5.224-.5.5s.225.5.5.5h1.327c.061.218 2.945 10.693 3.031 10.899.064.144.238.13.291-.014.095-.293 1.172-4.107 1.617-5.719.453-1.639 1.408-5.166 1.408-5.166h1.338c.271-.006.488-.228.488-.5s-.217-.493-.488-.5zm.214-1.99c.174-.296.274-.642.274-1.01 0-1.263-1.116-2.493-3-2 .471-1.549-.557-2.997-2-3-1.004-.002-1.797.759-2.06 1.637 1.103.721 1.615 1.975 1.443 3.363-.939-2.985-4.383-2.268-4.383 0 0 .368.1.714.274 1.01l.226-.01h9.065v.001l.161.009z"/></svg>
            </h3>
            <p className="overview-card__count">highest daily streak: 2days</p>
          </div>
          <div className="overview-card">
            <h3 className="overview-card__title">
            Streak
            <svg width="24" height="24"><path d="M5.521 8.974c-.332-.583-.521-1.257-.521-1.974 0-1.899 1.326-3.49 3.102-3.898.408-1.776 1.999-3.102 3.898-3.102s3.49 1.326 3.898 3.102c1.776.408 3.102 1.999 3.102 3.898 0 .717-.189 1.391-.521 1.973.327.423.521.952.521 1.527 0 1.309-1.007 2.385-2.289 2.491l-.002.009c-.235.855-2.394 8.694-2.67 9.538-.349.953-1.175 1.462-2.039 1.462-.853 0-1.683-.497-2.039-1.462-.26-.801-2.221-7.91-2.673-9.547-1.281-.107-2.288-1.183-2.288-2.491 0-.575.194-1.104.521-1.526zm10.991 1.026h-9.012c-.275 0-.5.224-.5.5s.225.5.5.5h1.327c.061.218 2.945 10.693 3.031 10.899.064.144.238.13.291-.014.095-.293 1.172-4.107 1.617-5.719.453-1.639 1.408-5.166 1.408-5.166h1.338c.271-.006.488-.228.488-.5s-.217-.493-.488-.5zm.214-1.99c.174-.296.274-.642.274-1.01 0-1.263-1.116-2.493-3-2 .471-1.549-.557-2.997-2-3-1.004-.002-1.797.759-2.06 1.637 1.103.721 1.615 1.975 1.443 3.363-.939-2.985-4.383-2.268-4.383 0 0 .368.1.714.274 1.01l.226-.01h9.065v.001l.161.009z"/></svg>
            </h3>
            <p className="overview-card__count">highest daily streak: 2days</p>
          </div>
        </section>
      </div>
    </main>
  )
}
